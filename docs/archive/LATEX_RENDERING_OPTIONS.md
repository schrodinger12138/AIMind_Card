# LaTeX公式渲染方案对比

## 当前方案：MathJax (CDN)

### 优点
- ✅ **零安装**：无需安装任何软件
- ✅ **实时渲染**：即时显示，无需编译
- ✅ **跨平台**：Windows/Mac/Linux都可用
- ✅ **轻量级**：不占用本地空间
- ✅ **支持完整LaTeX语法**：包括 `$...$`, `$$...$$`, `\[...\]`, `\(...\)`

### 缺点
- ❌ **需要网络**：依赖CDN（可能被墙或网络慢）
- ❌ **首次加载慢**：需要下载MathJax库（~1MB）

---

## 方案1：本地MathJax（推荐用于离线）

### 实现方式
下载MathJax到本地，使用本地文件而不是CDN

### 优点
- ✅ **离线可用**：无需网络连接
- ✅ **加载更快**：本地文件读取
- ✅ **其他优点同CDN版本**

### 缺点
- ❌ **需要下载**：MathJax库约50-100MB
- ❌ **占用空间**：需要存储MathJax文件

### 安装
```bash
# 下载MathJax
# 或使用npm: npm install mathjax@3
```

---

## 方案2：KaTeX（更轻量、更快）

### 优点
- ✅ **更快**：渲染速度比MathJax快10-100倍
- ✅ **更小**：库文件更小（~100KB vs ~1MB）
- ✅ **零依赖**：纯JavaScript
- ✅ **支持常见LaTeX语法**

### 缺点
- ❌ **功能较少**：不支持所有LaTeX命令（但覆盖95%常用命令）
- ❌ **需要网络**（或本地部署）

### 安装
```bash
# 使用CDN或本地文件
```

---

## 方案3：TeX Live（不推荐用于实时预览）

### 优点
- ✅ **完整LaTeX支持**：100%兼容
- ✅ **高质量输出**：PDF质量最佳

### 缺点
- ❌ **体积巨大**：安装包3-5GB
- ❌ **需要编译**：每次渲染需要调用pdflatex/xelatex
- ❌ **速度慢**：编译需要几秒到几十秒
- ❌ **不适合实时预览**：只能用于最终PDF导出
- ❌ **跨平台问题**：Windows安装复杂

### 适用场景
- ✅ **PDF导出**：生成最终文档
- ❌ **实时预览**：不推荐

---

## 推荐方案

### 对于实时Markdown预览（当前需求）
**推荐：本地MathJax 或 KaTeX**

1. **优先使用本地MathJax**：
   - 功能完整
   - 支持所有LaTeX命令
   - 可以离线使用

2. **备选KaTeX**：
   - 如果只需要常见公式
   - 追求更快的渲染速度

### 对于PDF导出
**推荐：TeX Live + pandoc 或 weasyprint**

- 如果只需要简单PDF：使用weasyprint（已安装）
- 如果需要高质量PDF：使用TeX Live + pandoc

---

## 实现建议

### 方案A：本地MathJax（推荐）
1. 下载MathJax到项目目录
2. 修改代码使用本地文件
3. 优点：完全离线，功能完整

### 方案B：KaTeX（轻量快速）
1. 使用KaTeX CDN或本地文件
2. 优点：更快，更小
3. 缺点：功能略少

### 方案C：混合方案（最佳）
- **实时预览**：使用本地MathJax/KaTeX
- **PDF导出**：使用TeX Live（可选，如果需要高质量PDF）

---

## 结论

**对于你的需求（实时预览Markdown中的LaTeX公式）：**

❌ **不要用TeX Live** - 太重、太慢、不适合实时预览

✅ **推荐使用本地MathJax** - 功能完整、可离线、适合实时预览

✅ **或使用KaTeX** - 更快、更轻量，但功能略少

